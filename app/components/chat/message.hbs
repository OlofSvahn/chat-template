{{#if @message.isDateDivider}}
<div class="msg-date-divider d-flex justify-content-center">
    <span class="text-muted">{{@message.date}}</span>
</div>
{{else}}
<div class="collapse empty" id="collapseDate{{@message.id}}" style="overflow:visible; ">
    <div class="message-date text-center text-muted">hidden</div>
</div>
<div class="msg-wrapper {{if @message.isUserMessage 'my-message'}} d-flex flex-row">
    {{#if @message.isUserMessage}}
    <div class="msg-misc">
        <button class="icon-wrapper misc" type="button" data-toggle="collapse"
            data-target="#collapseDate{{@message.id}}" aria-expanded="false" aria-controls="collapseDate{{@message.id}}"
            {{action 'formatDateToTime' @message.timeStamp}}>
            <img src="\images\ui-icons-ic-elipsis.svg">
        </button>
    </div>
    <div class="bubble my-message m-2">
        <span class="message my-message">{{@message.text}}</span>
    </div>
    {{else}}
    <div class="message--avatar mb-2"></div>
    <div class="bubble m-2">
        <span class="message">{{@message.text}}</span>
    </div>
    <div class="msg-misc">
        <button class="icon-wrapper misc" type="button" data-toggle="collapse"
            data-target="#collapseDate{{@message.id}}" aria-expanded="false" aria-controls="collapseDate{{@message.id}}"
            {{action 'formatDateToTime' @message.timeStamp}}>
            <img src="\images\ui-icons-ic-elipsis.svg">
        </button>
    </div>
    {{/if}}
</div>
<div class="collapse timeStamp" id="collapseDate{{@message.id}}" style="overflow:visible;">
    <div class="message-date text-center text-muted">{{this.time}}</div>
</div>
{{/if}}